{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 100, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/%E5%B2%A1%E6%9C%AC%E3%80%80%E6%99%83%E4%B8%80/projects/kobe-maruka-project/web/src/lib/firebase.ts"],"sourcesContent":["import { initializeApp, getApps } from 'firebase/app';\r\nimport { getAuth, connectAuthEmulator } from 'firebase/auth';\r\nimport { getFirestore, connectFirestoreEmulator } from 'firebase/firestore';\r\n\r\nconst firebaseConfig = {\r\n    apiKey: \"fake-api-key\",\r\n    authDomain: \"demo-no-project.firebaseapp.com\",\r\n    projectId: \"demo-no-project\",\r\n    storageBucket: \"demo-no-project.appspot.com\",\r\n    messagingSenderId: \"123456789\",\r\n    appId: \"1:123456789:web:abcdef\"\r\n};\r\n\r\n// Initialize Firebase\r\nconst app = getApps().length === 0 ? initializeApp(firebaseConfig) : getApps()[0];\r\nconst auth = getAuth(app);\r\nconst db = getFirestore(app);\r\n\r\n// Connect to Emulators in Development\r\nif (process.env.NODE_ENV === 'development') {\r\n    // Prevent multiple connections\r\n    if (!(global as any)._emulatorsConnected) {\r\n        connectAuthEmulator(auth, \"http://127.0.0.1:9099\");\r\n        connectFirestoreEmulator(db, '127.0.0.1', 8080);\r\n        (global as any)._emulatorsConnected = true;\r\n        console.log('Connected to Auth & Firestore Emulators');\r\n    }\r\n}\r\n\r\nexport { auth, db };\r\n"],"names":[],"mappings":";;;;;;AAAA;AAAA;AACA;AAAA;AACA;AAAA;;;;AAEA,MAAM,iBAAiB;IACnB,QAAQ;IACR,YAAY;IACZ,WAAW;IACX,eAAe;IACf,mBAAmB;IACnB,OAAO;AACX;AAEA,sBAAsB;AACtB,MAAM,MAAM,IAAA,2NAAO,IAAG,MAAM,KAAK,IAAI,IAAA,iOAAa,EAAC,kBAAkB,IAAA,2NAAO,GAAE,CAAC,EAAE;AACjF,MAAM,OAAO,IAAA,6NAAO,EAAC;AACrB,MAAM,KAAK,IAAA,iOAAY,EAAC;AAExB,sCAAsC;AACtC,wCAA4C;IACxC,+BAA+B;IAC/B,IAAI,CAAC,yDAAgB,mBAAmB,EAAE;QACtC,IAAA,yOAAmB,EAAC,MAAM;QAC1B,IAAA,6OAAwB,EAAC,IAAI,aAAa;QAC1C,yDAAgB,mBAAmB,GAAG;QACtC,QAAQ,GAAG,CAAC;IAChB;AACJ"}},
    {"offset": {"line": 160, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/%E5%B2%A1%E6%9C%AC%E3%80%80%E6%99%83%E4%B8%80/projects/kobe-maruka-project/web/src/context/AuthContext.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { createContext, useContext, useEffect, useState } from 'react';\r\nimport { User, onAuthStateChanged } from 'firebase/auth';\r\nimport { auth } from '@/lib/firebase';\r\nimport { useRouter, usePathname } from 'next/navigation';\r\n\r\ninterface AuthContextType {\r\n    user: User | null;\r\n    loading: boolean;\r\n}\r\n\r\nconst AuthContext = createContext<AuthContextType>({ user: null, loading: true });\r\n\r\nexport const useAuth = () => useContext(AuthContext);\r\n\r\nexport const AuthProvider = ({ children }: { children: React.ReactNode }) => {\r\n    const [user, setUser] = useState<User | null>(null);\r\n    const [loading, setLoading] = useState(true);\r\n    const router = useRouter();\r\n    const pathname = usePathname();\r\n\r\n    useEffect(() => {\r\n        const unsubscribe = onAuthStateChanged(auth, (user) => {\r\n            setUser(user);\r\n            setLoading(false);\r\n        });\r\n\r\n        return () => unsubscribe();\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        if (!loading && !user && pathname !== '/login') {\r\n            router.push('/login');\r\n        }\r\n    }, [user, loading, pathname, router]);\r\n\r\n    if (loading) {\r\n        return <div style={{ display: 'flex', justifyContent: 'center', alignItems: 'center', height: '100vh' }}>Loading...</div>;\r\n    }\r\n\r\n    return (\r\n        <AuthContext.Provider value={{ user, loading }}>\r\n            {children}\r\n        </AuthContext.Provider>\r\n    );\r\n};\r\n"],"names":[],"mappings":";;;;;;;AAEA;AACA;AAAA;AACA;AACA;AALA;;;;;;AAYA,MAAM,4BAAc,IAAA,sQAAa,EAAkB;IAAE,MAAM;IAAM,SAAS;AAAK;AAExE,MAAM,UAAU,IAAM,IAAA,mQAAU,EAAC;AAEjC,MAAM,eAAe,CAAC,EAAE,QAAQ,EAAiC;IACpE,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,iQAAQ,EAAc;IAC9C,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iQAAQ,EAAC;IACvC,MAAM,SAAS,IAAA,+LAAS;IACxB,MAAM,WAAW,IAAA,iMAAW;IAE5B,IAAA,kQAAS,EAAC;QACN,MAAM,cAAc,IAAA,wOAAkB,EAAC,8KAAI,EAAE,CAAC;YAC1C,QAAQ;YACR,WAAW;QACf;QAEA,OAAO,IAAM;IACjB,GAAG,EAAE;IAEL,IAAA,kQAAS,EAAC;QACN,IAAI,CAAC,WAAW,CAAC,QAAQ,aAAa,UAAU;YAC5C,OAAO,IAAI,CAAC;QAChB;IACJ,GAAG;QAAC;QAAM;QAAS;QAAU;KAAO;IAEpC,IAAI,SAAS;QACT,qBAAO,8RAAC;YAAI,OAAO;gBAAE,SAAS;gBAAQ,gBAAgB;gBAAU,YAAY;gBAAU,QAAQ;YAAQ;sBAAG;;;;;;IAC7G;IAEA,qBACI,8RAAC,YAAY,QAAQ;QAAC,OAAO;YAAE;YAAM;QAAQ;kBACxC;;;;;;AAGb"}}]
}